<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>EvoSustain Admin Portal - Professional iPhone Style</title>
  <style>
    /* Reset and base */
    body, html {
      margin:0; padding:0; height:100vh;
      display:flex; justify-content:center; align-items:center;
      background: linear-gradient(135deg, #f0f2f5 0%, #d9e2dc 100%);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      color: #2f3e46;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .mobile-mockup {
      width: 375px; height: 667px;
      background: #fff;
      border: 16px solid #1c1c1e;
      border-radius: 44px;
      box-shadow:
        0 12px 24px rgba(0,0,0,0.25),
        inset 0 0 2px rgba(255,255,255,0.5);
      display: flex; flex-direction: column; overflow: hidden;
      user-select: none;
    }
    header {
      background: #1c1c1e;
      color: #fafafa;
      text-align: center;
      padding: 18px 0;
      font-weight: 700;
      font-size: 1.35rem;
      letter-spacing: 1px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }
    main {
      flex: 1;
      overflow-y: auto;
      padding: 16px 20px;
      color: #2f3e46;
      -webkit-overflow-scrolling: touch;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
      justify-content: center;
    }
    nav button {
      flex: 1 1 28%;
      min-width: 88px;
      background: #2f3e46;
      border: none;
      border-radius: 20px;
      padding: 12px 0;
      font-size: 0.9rem;
      color: #fafafa;
      font-weight: 600;
      cursor: pointer;
      transition:
        background-color 0.3s ease,
        box-shadow 0.15s ease;
      box-shadow:
        0 2px 8px rgba(0,0,0,0.15);
      user-select: none;
      outline-offset: 2px;
    }
    nav button:focus-visible {
      outline: 2px solid #4caf50;
    }
    nav button.active,
    nav button:hover {
      background: #4caf50;
      box-shadow:
        0 4px 12px rgba(76,175,80,0.6);
      transform: translateY(-2px);
    }
    section {
      display: none;
      animation: fadeIn 0.3s ease forwards;
    }
    section.active {
      display: block;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(5px);}
      to {opacity: 1; transform: translateY(0);}
    }
    h2 {
      margin-top: 0;
      font-weight: 700;
      margin-bottom: 12px;
      font-size: 1.25rem;
      border-bottom: 2px solid #4caf50;
      padding-bottom: 6px;
      color: #1b2a27;
    }
    ul.stats {
      list-style: none;
      padding-left: 0;
      margin: 0 0 20px 0;
    }
    ul.stats li {
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 1rem;
      line-height: 1.3;
    }
    canvas {
      max-width: 100%;
      border-radius: 14px;
      background: #e3f2df;
      margin-bottom: 18px;
      box-shadow: 0 4px 8px rgba(76,175,80,0.2);
    }
    input[type="text"], select {
      width: 100%;
      padding: 10px 14px;
      margin-bottom: 14px;
      border-radius: 14px;
      border: 1.8px solid #a3b18a;
      font-size: 1rem;
      box-sizing: border-box;
      font-weight: 600;
      color: #2f3e46;
      background: #f9fbe7;
      transition: border-color 0.3s ease;
    }
    input[type="text"]:focus, select:focus {
      outline: none;
      border-color: #4caf50;
      background: #f1f8e9;
    }
    button.manage-btn {
      background: #4caf50;
      color: #fafafa;
      padding: 14px 0;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 700;
      width: 100%;
      box-shadow: 0 4px 14px rgba(76,175,80,0.6);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }
    button.manage-btn:hover {
      background: #388e3c;
      box-shadow: 0 6px 18px rgba(56,142,60,0.8);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 12px;
      overflow: hidden;
    }
    table thead tr {
      background:#4caf50;
      color:#fafafa;
    }
    table th, table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #c8e6c9;
      font-weight: 600;
    }
    table tbody tr:hover {
      background: #dcedc8;
    }
  </style>
</head>
<body>
  <div class="mobile-mockup" role="application" aria-label="EvoSustain Mobile Admin Portal">
    <header>EvoSustain Admin Portal</header>
    <main>
      <nav aria-label="Main navigation">
        <button data-tab="dashboard" class="active" aria-controls="dashboard" aria-selected="true">Dashboard</button>
        <button data-tab="requests" aria-controls="requests" aria-selected="false">Requests</button>
        <button data-tab="planning" aria-controls="planning" aria-selected="false">Planning</button>
        <button data-tab="drivers" aria-controls="drivers" aria-selected="false">Drivers</button>
        <button data-tab="performance" aria-controls="performance" aria-selected="false">Performance</button>
        <button data-tab="clients" aria-controls="clients" aria-selected="false">Clients</button>
        <button data-tab="map" aria-controls="map" aria-selected="false">Map</button>
        <button data-tab="reports" aria-controls="reports" aria-selected="false">Reports</button>
        <button data-tab="settings" aria-controls="settings" aria-selected="false">Settings</button>
      </nav>

      <section id="dashboard" class="active" tabindex="0">
        <h2>Dashboard</h2>
        <ul class="stats" role="list">
          <li>üì¶ Pending Requests: <strong id="dash-pending">600</strong></li>
          <li>üöõ Active Drivers: <strong id="dash-drivers">15</strong></li>
          <li>‚ö†Ô∏è System Alerts: <strong id="dash-alerts">5 Critical, 8 Warnings</strong></li>
          <li>üåç CO‚ÇÇ Saved Today: <strong id="dash-co2">370.2 kg</strong></li>
          <li>‚è±Ô∏è Avg Pickup Time: <strong id="dash-pickup">8.3 min</strong></li>
          <li>üè™ Total Clients: <strong id="dash-clients">600</strong></li>
          <li>üìä Total Requests (Week): <strong id="dash-weekly-requests">4,560</strong></li>
          <li>üìÖ Scheduled Routes: <strong id="dash-routes">275</strong></li>
        </ul>
      </section>

      <section id="requests" tabindex="0">
        <h2>Requests by Location</h2>
        <canvas id="requestsChart" width="320" height="180" role="img" aria-label="Bar chart showing requests by location"></canvas>
      </section>

      <section id="planning" tabindex="0">
        <h2>Schedule Planning</h2>
        <ul class="stats">
          <li>Routes Scheduled: <strong id="plan-routes">275</strong></li>
          <li>Optimized Routes: <strong id="plan-optimized">260</strong></li>
          <li>Pending Optimization: <strong id="plan-pending">15</strong></li>
          <li>Peak Hours: <strong>9:00‚Äì11:00 AM</strong></li>
        </ul>
      </section>

      <section id="drivers" tabindex="0">
        <h2>Driver Assignment</h2>
        <ul class="stats">
          <li>Drivers Available: <strong id="drivers-available">15</strong></li>
          <li>Assigned: <strong id="drivers-assigned">14</strong></li>
          <li>Unassigned: <strong id="drivers-unassigned">1</strong></li>
          <li>Standby Drivers: <strong id="drivers-standby">2</strong></li>
        </ul>
      </section>

      <section id="performance" tabindex="0">
        <h2>Driver Performance</h2>
        <ul class="stats">
          <li>Total Pickups: <strong id="perf-pickups">1020</strong></li>
          <li>Avg Pickup Time: <strong id="perf-pickup-time">7.5 min</strong></li>
          <li>Missed Pickups: <strong id="perf-missed">12</strong></li>
          <li>Top Performer: <strong id="perf-top-driver">Driver #09</strong></li>
        </ul>
      </section>

      <section id="clients" tabindex="0">
        <h2>Client Management</h2>
        <ul class="stats">
          <li>Total Clients: <strong id="clients-total">600</strong></li>
          <li>Top Client: <strong id="clients-top">Oxford St (220 pickups)</strong></li>
          <li>Active Tickets: <strong id="clients-tickets">15</strong></li>
          <li>Avg Response Time: <strong id="clients-response">1.8 hrs</strong></li>
        </ul>
      </section>

      <section id="map" tabindex="0">
        <h2>Live Map View</h2>
        <ul class="stats">
          <li>Active Routes: <strong id="map-active">85</strong></li>
          <li>Live Location Refresh: <strong>15 sec</strong></li>
          <li>Last Sync: <strong>1:25 PM</strong></li>
        </ul>
      </section>

      <section id="reports" tabindex="0">
        <h2>Reports</h2>
        <label for="reportRange">Select Report Range:</label>
        <select id="reportRange" aria-label="Select report range">
          <option value="day">Today</option>
          <option value="week" selected>This Week</option>
          <option value="month">This Month</option>
        </select>

        <h3>Efficiency Breakdown</h3>
        <canvas id="efficiencyChart" width="320" height="180" role="img" aria-label="Pie chart showing efficiency breakdown"></canvas>

        <h3>Consumption Report (tons)</h3>
        <canvas id="consumptionChart" width="320" height="180" role="img" aria-label="Bar chart showing waste consumption"></canvas>

        <h3>Fast Routes Report</h3>
        <table>
          <thead>
            <tr><th>Route</th><th>Avg Time (min)</th><th>Distance (miles)</th></tr>
          </thead>
          <tbody id="fastRoutesTableBody"></tbody>
        </table>

        <h3>Alerts Summary</h3>
        <ul id="alertsSummary" style="padding-left:20px; color:#6d4c41; margin:0;"></ul>
      </section>

      <section id="settings" tabindex="0">
        <h2>User Management</h2>
        <input type="text" placeholder="Search users..." aria-label="Search users" />
        <button class="manage-btn">Manage Users</button>
      </section>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const buttons = document.querySelectorAll('nav button');
    const sections = document.querySelectorAll('main section');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => {
          b.classList.remove('active');
          b.setAttribute('aria-selected', 'false');
        });
        sections.forEach(s => s.classList.remove('active'));
        btn.classList.add('active');
        btn.setAttribute('aria-selected', 'true');
        const tab = btn.getAttribute('data-tab');
        document.getElementById(tab).classList.add('active');
      });
    });

    // Data simulation for London stores and drivers
    const reportsData = {
      day: {
        efficiency: [95,5],
        consumption: [1.2,1.3,1.1,1.5,1.4,1.0,1.2],
        fastRoutes: [
          {route:"Oxford St", time:12.3, distance:5.1},
          {route:"Camden", time:10.7, distance:4.0},
          {route:"Shoreditch", time:9.9, distance:3.7},
          {route:"Brixton", time:11.4, distance:4.6},
        ],
        alerts: [
          {level:"Critical", text:"Overflow at Camden Market bin (Today 10:15 AM)"},
          {level:"Warning", text:"Driver delay on Route C (Today 3:30 PM)"},
        ],
      },
      week: {
        efficiency: [91,9],
        consumption: [12.5, 13.7, 14.2, 13.1, 15.3, 14.8, 16.0],
        fastRoutes: [
          {route:"Oxford St", time:12.4, distance:5.3},
          {route:"Camden", time:10.1, distance:4.1},
          {route:"Shoreditch", time:9.5, distance:3.8},
          {route:"Brixton", time:11.2, distance:4.7},
        ],
        alerts: [
          {level:"Critical", text:"Overflow at Camden Market bin (May 22, 10:15 AM)"},
          {level:"Warning", text:"Driver delay on Route C (May 21, 3:30 PM)"},
          {level:"Critical", text:"Missed pickup at Shoreditch (May 20, 9:00 AM)"},
          {level:"Info", text:"Scheduled maintenance on Route D (May 25)"},
        ],
      },
      month: {
        efficiency: [89,11],
        consumption: [50, 54, 56, 55, 60, 58, 62],
        fastRoutes: [
          {route:"Oxford St", time:12.6, distance:5.4},
          {route:"Camden", time:10.5, distance:4.3},
          {route:"Shoreditch", time:9.8, distance:3.9},
          {route:"Brixton", time:11.4, distance:4.8},
        ],
        alerts: [
          {level:"Warning", text:"Slight delays on Route A (April 12)"},
          {level:"Info", text:"Driver training scheduled (April 18)"},
          {level:"Critical", text:"Equipment failure on Route B (April 22)"},
        ],
      }
    };

    // Initialize charts
    const efficiencyCtx = document.getElementById('efficiencyChart').getContext('2d');
    const consumptionCtx = document.getElementById('consumptionChart').getContext('2d');

    let efficiencyChart = new Chart(efficiencyCtx, {
      type: 'pie',
      data: {
        labels: ['Efficient', 'Inefficient'],
        datasets: [{
          data: reportsData.week.efficiency,
          backgroundColor: ['#2e7d32', '#6d4c41']
        }]
      },
      options: {
        plugins: {legend: {labels: {color: '#4a5a36'}}}
      }
    });

    let consumptionChart = new Chart(consumptionCtx, {
      type: 'bar',
      data: {
        labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
        datasets: [{
          label: 'Waste Collected (tons)',
          data: reportsData.week.consumption,
          backgroundColor: '#6d4c41',
          borderRadius: 5,
        }]
      },
      options: {
        scales: {
          y: {beginAtZero: true, ticks: {color: '#4a5a36'}, grid: {color: '#c5e1a5'}},
          x: {ticks: {color: '#4a5a36'}, grid: {color: '#c5e1a5'}}
        },
        plugins: {legend: {labels: {color: '#4a5a36'}}}
      }
    });

    // Update Reports on range change
    const fastRoutesTableBody = document.getElementById('fastRoutesTableBody');
    const alertsSummary = document.getElementById('alertsSummary');
    const reportRangeSelect = document.getElementById('reportRange');

    function updateReports(range) {
      efficiencyChart.data.datasets[0].data = reportsData[range].efficiency;
      efficiencyChart.update();

      consumptionChart.data.datasets[0].data = reportsData[range].consumption;
      consumptionChart.update();

      fastRoutesTableBody.innerHTML = '';
      reportsData[range].fastRoutes.forEach(r => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${r.route}</td><td>${r.time.toFixed(1)}</td><td>${r.distance.toFixed(1)}</td>`;
        fastRoutesTableBody.appendChild(tr);
      });

      alertsSummary.innerHTML = '';
      reportsData[range].alerts.forEach(alert => {
        const li = document.createElement('li');
        const icon = alert.level === "Critical" ? "‚ö†Ô∏è" : alert.level === "Warning" ? "‚ö†Ô∏è" : "‚ÑπÔ∏è";
        li.textContent = `${icon} ${alert.level}: ${alert.text}`;
        alertsSummary.appendChild(li);
      });
    }

    updateReports('week');
    reportRangeSelect.addEventListener('change', e => updateReports(e.target.value));

    // Requests bar chart for locations
    const requestsCtx = document.getElementById('requestsChart').getContext('2d');
    const requestsChart = new Chart(requestsCtx, {
      type: 'bar',
      data: {
        labels: ['Oxford St', 'Camden Market', 'Shoreditch', 'Brixton', 'Greenwich', 'Hackney', 'Chelsea'],
        datasets: [{
          label: 'Requests',
          data: [120, 95, 88, 70, 65, 50, 45],
          backgroundColor: '#4f8f6e',
          borderRadius: 5,
        }]
      },
      options: {
        scales: {
          y: {beginAtZero: true, ticks: {color: '#4a5a36'}, grid: {color: '#c5e1a5'}},
          x: {ticks: {color: '#4a5a36'}, grid: {color: '#c5e1a5'}}
        },
        plugins: {legend: {labels: {color: '#4a5a36'}}}
      }
    });
  </script>
</body>
</html>
